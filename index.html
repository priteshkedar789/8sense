<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8 Senses Clinic - Operational Diagnostic Questionnaire</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .section-title {
            font-size: 1.5em;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .question {
            margin-bottom: 25px;
        }

        .question-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            display: block;
        }

        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .checkbox-group {
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }

        .checkbox-item label {
            cursor: pointer;
            flex: 1;
        }

        .radio-group {
            margin-top: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
        }

        .radio-item input[type="radio"] {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            cursor: pointer;
        }

        .radio-item label {
            cursor: pointer;
            flex: 1;
        }

        .table-question {
            overflow-x: auto;
            margin-top: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 6px;
            overflow: hidden;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        td input[type="radio"] {
            margin: 0 auto;
            display: block;
        }

        .submit-section {
            text-align: center;
            padding: 40px;
            background: #f8f9fa;
        }

        .btn-generate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 50px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-generate:active {
            transform: translateY(0);
        }

        .progress-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid #2196F3;
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }

            .section {
                padding: 20px;
            }

            .header h1 {
                font-size: 1.5em;
            }
        }

        .other-input {
            margin-top: 10px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>8 Senses Clinic</h1>
            <p>Operational Diagnostic Questionnaire</p>
        </div>

        <div class="content">
            <div class="progress-info">
                <strong>üìã Purpose:</strong> Help us understand how your clinic operates today so we can design solutions that actually reduce your burden, not add to it.
                <br><br>
                <strong>‚è±Ô∏è Time Required:</strong> 15-20 minutes
            </div>

            <form id="questionnaireForm">
                
                <!-- Section 1: Your Time & Energy -->
                <div class="section">
                    <div class="section-title">SECTION 1: Your Time & Energy</div>

                    <div class="question">
                        <label class="question-label">1. On a typical day, how do you spend your time? (Estimate hours)</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                            <input type="number" name="time_patients" placeholder="Seeing patients (hours)" step="0.5" min="0">
                            <input type="number" name="time_scheduling" placeholder="Scheduling/rescheduling (hours)" step="0.5" min="0">
                            <input type="number" name="time_calls" placeholder="Parent calls/WhatsApp (hours)" step="0.5" min="0">
                            <input type="number" name="time_assignments" placeholder="Assigning therapists (hours)" step="0.5" min="0">
                            <input type="number" name="time_therapy_plans" placeholder="Reviewing therapy plans (hours)" step="0.5" min="0">
                            <input type="number" name="time_billing" placeholder="Billing oversight (hours)" step="0.5" min="0">
                            <input type="number" name="time_staff" placeholder="Managing staff issues (hours)" step="0.5" min="0">
                            <input type="number" name="time_admin" placeholder="Other admin work (hours)" step="0.5" min="0">
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">2. Which of these tasks do you wish someone else could handle?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_scheduling" name="delegate" value="scheduling">
                                <label for="delegate_scheduling">Appointment scheduling</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_reminders" name="delegate" value="reminders">
                                <label for="delegate_reminders">Reminder coordination</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_parent_comm" name="delegate" value="parent_communication">
                                <label for="delegate_parent_comm">Parent communication (routine queries)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_assignments" name="delegate" value="assignments">
                                <label for="delegate_assignments">Therapist assignments</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_tracking" name="delegate" value="tracking">
                                <label for="delegate_tracking">Session tracking</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_payment" name="delegate" value="payment">
                                <label for="delegate_payment">Payment follow-ups</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_payroll" name="delegate" value="payroll">
                                <label for="delegate_payroll">Payroll preparation</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_reports" name="delegate" value="reports">
                                <label for="delegate_reports">Progress report compilation</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">3. What time do you typically finish work each day?</label>
                        <input type="text" name="finish_clinical" placeholder="Clinical work ends at: (e.g., 6:00 PM)">
                        <input type="text" name="finish_admin" placeholder="Admin work ends at: (e.g., 9:00 PM)" style="margin-top: 10px;">
                    </div>

                    <div class="question">
                        <label class="question-label">4. How often do you work on weekends doing admin tasks?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="weekend_never" name="weekend_work" value="never">
                                <label for="weekend_never">Never</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="weekend_occasionally" name="weekend_work" value="occasionally">
                                <label for="weekend_occasionally">Occasionally (1-2 times/month)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="weekend_regularly" name="weekend_work" value="regularly">
                                <label for="weekend_regularly">Regularly (every weekend)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="weekend_every" name="weekend_work" value="every_sunday">
                                <label for="weekend_every">Every Sunday is admin catch-up day</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">5. If you were absent for 3 days, what would break?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_scheduling" name="absent_breaks" value="scheduling">
                                <label for="break_scheduling">Scheduling would collapse</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_queries" name="absent_breaks" value="queries">
                                <label for="break_queries">No one would handle complex parent queries</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_therapist" name="absent_breaks" value="therapist">
                                <label for="break_therapist">Therapist assignments would stop</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_billing" name="absent_breaks" value="billing">
                                <label for="break_billing">Billing errors would happen</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_quality" name="absent_breaks" value="quality">
                                <label for="break_quality">Quality control would disappear</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_everything" name="absent_breaks" value="everything">
                                <label for="break_everything">Everything would break</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="break_other" name="absent_breaks" value="other">
                                <label for="break_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="absent_breaks_other" placeholder="Please specify..." class="other-input" id="break_other_input">
                    </div>
                </div>

                <!-- Section 2: Front Desk & Receptionist Reality -->
                <div class="section">
                    <div class="section-title">SECTION 2: Front Desk & Receptionist Reality</div>

                    <div class="question">
                        <label class="question-label">6. What are your receptionists currently responsible for?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_phone" name="receptionist_duties" value="phone">
                                <label for="recep_phone">Answering phone calls</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_scheduling" name="receptionist_duties" value="scheduling">
                                <label for="recep_scheduling">Scheduling appointments</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_reminders" name="receptionist_duties" value="reminders">
                                <label for="recep_reminders">Sending reminders (WhatsApp/calls)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_greeting" name="receptionist_duties" value="greeting">
                                <label for="recep_greeting">Greeting parents/children</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_payments" name="receptionist_duties" value="payments">
                                <label for="recep_payments">Collecting payments</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_records" name="receptionist_duties" value="records">
                                <label for="recep_records">Maintaining registers/records</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_complaints" name="receptionist_duties" value="complaints">
                                <label for="recep_complaints">Handling parent complaints</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="recep_other" name="receptionist_duties" value="other">
                                <label for="recep_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="receptionist_duties_other" placeholder="Please specify..." class="other-input" id="recep_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">7. What causes the most stress for your front desk team?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_calls" name="desk_stress" value="calls">
                                <label for="stress_calls">Too many phone calls/WhatsApp messages</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_questions" name="desk_stress" value="questions">
                                <label for="stress_questions">Parents asking questions they can't answer</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_coordination" name="desk_stress" value="coordination">
                                <label for="stress_coordination">Manual appointment coordination (back-and-forth)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_cancellations" name="desk_stress" value="cancellations">
                                <label for="stress_cancellations">Handling cancellations/rescheduling</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_payment_disputes" name="desk_stress" value="payment_disputes">
                                <label for="stress_payment_disputes">Payment disputes ("I already paid!")</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_availability" name="desk_stress" value="availability">
                                <label for="stress_availability">Not knowing which therapist is free when</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_blame" name="desk_stress" value="blame">
                                <label for="stress_blame">Getting blamed for things outside their control</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stress_procedures" name="desk_stress" value="procedures">
                                <label for="stress_procedures">Lack of clear procedures</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">8. How many calls/messages does your front desk handle per day?</label>
                        <input type="number" name="daily_calls" placeholder="Phone calls (estimate)" min="0">
                        <input type="number" name="daily_whatsapp" placeholder="WhatsApp messages (estimate)" min="0" style="margin-top: 10px;">
                    </div>

                    <div class="question">
                        <label class="question-label">9. What percentage of these are repetitive questions?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="repeat_less25" name="repetitive_questions" value="less_25">
                                <label for="repeat_less25">Less than 25%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="repeat_25_50" name="repetitive_questions" value="25_50">
                                <label for="repeat_25_50">25-50%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="repeat_50_75" name="repetitive_questions" value="50_75">
                                <label for="repeat_50_75">50-75%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="repeat_more75" name="repetitive_questions" value="more_75">
                                <label for="repeat_more75">More than 75%</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">10. If I could reduce front desk workload by 50%, what would they do instead?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_greeting" name="freed_capacity" value="greeting">
                                <label for="freed_greeting">Better parent greeting/relationship building</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_followups" name="freed_capacity" value="followups">
                                <label for="freed_followups">Proactive follow-ups (package renewals)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_organizing" name="freed_capacity" value="organizing">
                                <label for="freed_organizing">Organizing clinic records/files</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_support" name="freed_capacity" value="support">
                                <label for="freed_support">Supporting therapy sessions (prep work)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_fewer" name="freed_capacity" value="fewer">
                                <label for="freed_fewer">Honestly, we'd need fewer receptionists</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_other" name="freed_capacity" value="other">
                                <label for="freed_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="freed_capacity_other" placeholder="Please specify..." class="other-input" id="freed_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">11. What happens when a receptionist is sick or on leave?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_you_cover" name="receptionist_leave" value="you_cover">
                                <label for="leave_you_cover">You personally cover their work</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_overwhelmed" name="receptionist_leave" value="overwhelmed">
                                <label for="leave_overwhelmed">The other receptionist is overwhelmed</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_missed" name="receptionist_leave" value="missed">
                                <label for="leave_missed">Things get missed (calls, reminders, billing)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_reschedule" name="receptionist_leave" value="reschedule">
                                <label for="leave_reschedule">We reschedule appointments to reduce load</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_other" name="receptionist_leave" value="other">
                                <label for="leave_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="receptionist_leave_other" placeholder="Please specify..." class="other-input" id="leave_other_input">
                    </div>
                </div>

                <!-- Section 3: Scheduling & Session Management -->
                <div class="section">
                    <div class="section-title">SECTION 3: Scheduling & Session Management</div>

                    <div class="question">
                        <label class="question-label">12. How are appointments currently scheduled?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="sched_manual" name="scheduling_method" value="manual">
                                <label for="sched_manual">You manually assign based on availability</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sched_receptionist" name="scheduling_method" value="receptionist">
                                <label for="sched_receptionist">Receptionists coordinate with therapists</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sched_software" name="scheduling_method" value="software">
                                <label for="sched_software">Software shows availability (but not always accurate)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sched_mix" name="scheduling_method" value="mix">
                                <label for="sched_mix">Mix of above</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sched_other" name="scheduling_method" value="other">
                                <label for="sched_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="scheduling_method_other" placeholder="Please specify..." class="other-input" id="sched_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">13. How often do double-bookings happen?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="double_never" name="double_bookings" value="never">
                                <label for="double_never">Never (system prevents it)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="double_rarely" name="double_bookings" value="rarely">
                                <label for="double_rarely">Rarely (once a month)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="double_occasionally" name="double_bookings" value="occasionally">
                                <label for="double_occasionally">Occasionally (few times a month)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="double_often" name="double_bookings" value="often">
                                <label for="double_often">Often (weekly)</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">14. What percentage of scheduled sessions get cancelled?</label>
                        <input type="number" name="cancel_emergency" placeholder="Emergency cancellations (%)" min="0" max="100" step="1">
                        <input type="number" name="cancel_late" placeholder="Late cancellations - same day (%)" min="0" max="100" step="1" style="margin-top: 10px;">
                        <input type="number" name="cancel_noshow" placeholder="No-shows (%)" min="0" max="100" step="1" style="margin-top: 10px;">
                    </div>

                    <div class="question">
                        <label class="question-label">15. How are reminders sent to parents?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="remind_whatsapp" name="reminder_method" value="whatsapp">
                                <label for="remind_whatsapp">Manual WhatsApp from receptionist</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remind_calls" name="reminder_method" value="calls">
                                <label for="remind_calls">Manual phone calls</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remind_automated" name="reminder_method" value="automated">
                                <label for="remind_automated">Automated from existing software</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remind_none" name="reminder_method" value="none">
                                <label for="remind_none">No systematic reminders</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="remind_other" name="reminder_method" value="other">
                                <label for="remind_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="reminder_method_other" placeholder="Please specify..." class="other-input" id="remind_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">16. How much time do receptionists spend on reminders daily?</label>
                        <input type="number" name="reminder_time" placeholder="Hours per day" step="0.5" min="0">
                    </div>

                    <div class="question">
                        <label class="question-label">17. When a parent requests rescheduling, what happens?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="reschedule_check" name="reschedule_process" value="check">
                                <label for="reschedule_check">Receptionist checks with therapist, then confirms</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reschedule_you" name="reschedule_process" value="you">
                                <label for="reschedule_you">You personally handle it</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reschedule_list" name="reschedule_process" value="list">
                                <label for="reschedule_list">We offer alternate slots from a list</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reschedule_chaotic" name="reschedule_process" value="chaotic">
                                <label for="reschedule_chaotic">It's chaotic and takes multiple back-and-forths</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="reschedule_other" name="reschedule_process" value="other">
                                <label for="reschedule_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="reschedule_process_other" placeholder="Please specify..." class="other-input" id="reschedule_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">18. Do you know in real-time which therapist is free/busy?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="realtime_yes" name="realtime_availability" value="yes">
                                <label for="realtime_yes">Yes, always</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="realtime_sometimes" name="realtime_availability" value="sometimes">
                                <label for="realtime_sometimes">Sometimes (depends on updates)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="realtime_rarely" name="realtime_availability" value="rarely">
                                <label for="realtime_rarely">Rarely (lots of confusion)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="realtime_no" name="realtime_availability" value="no">
                                <label for="realtime_no">No, we have to ask around</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">19. Can therapists see their daily schedule easily?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="thera_sched_yes" name="therapist_schedule_access" value="yes">
                                <label for="thera_sched_yes">Yes, in the software</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="thera_sched_reception" name="therapist_schedule_access" value="reception">
                                <label for="thera_sched_reception">They check with reception</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="thera_sched_memory" name="therapist_schedule_access" value="memory">
                                <label for="thera_sched_memory">They rely on memory/notes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="thera_sched_changes" name="therapist_schedule_access" value="changes">
                                <label for="thera_sched_changes">It changes so often they just show up and ask</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">20. How often does schedule chaos cause you personal stress?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="stress_rarely" name="schedule_stress" value="rarely">
                                <label for="stress_rarely">Rarely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="stress_occasionally" name="schedule_stress" value="occasionally">
                                <label for="stress_occasionally">Occasionally</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="stress_weekly" name="schedule_stress" value="weekly">
                                <label for="stress_weekly">Weekly</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="stress_daily" name="schedule_stress" value="daily">
                                <label for="stress_daily">Daily</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Therapist Workload & Payroll -->
                <div class="section">
                    <div class="section-title">SECTION 4: Therapist Workload & Payroll</div>

                    <div class="question">
                        <label class="question-label">21. Do you know which therapist is overloaded vs. underutilized?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="workload_yes" name="therapist_workload_visibility" value="yes">
                                <label for="workload_yes">Yes, I track this closely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="workload_general" name="therapist_workload_visibility" value="general">
                                <label for="workload_general">I have a general sense</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="workload_no" name="therapist_workload_visibility" value="no">
                                <label for="workload_no">No clear visibility</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="workload_complain" name="therapist_workload_visibility" value="complain">
                                <label for="workload_complain">I find out only when someone complains</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">22. How is payroll calculated currently?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="payroll_manual" name="payroll_method" value="manual">
                                <label for="payroll_manual">Manual count of sessions from registers</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="payroll_export" name="payroll_method" value="export">
                                <label for="payroll_export">Export from software (but with errors)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="payroll_therapist" name="payroll_method" value="therapist">
                                <label for="payroll_therapist">Therapists submit their own count</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="payroll_mix" name="payroll_method" value="mix">
                                <label for="payroll_mix">Mix of above</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="payroll_other" name="payroll_method" value="other">
                                <label for="payroll_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="payroll_method_other" placeholder="Please specify..." class="other-input" id="payroll_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">23. How long does month-end payroll take?</label>
                        <input type="number" name="payroll_your_time" placeholder="Your time (hours)" step="0.5" min="0">
                        <input type="number" name="payroll_admin_time" placeholder="Admin/accountant time (hours)" step="0.5" min="0" style="margin-top: 10px;">
                    </div>

                    <div class="question">
                        <label class="question-label">24. How often are there payroll disputes?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="payroll_dispute_never" name="payroll_disputes" value="never">
                                <label for="payroll_dispute_never">Never</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="payroll_dispute_rarely" name="payroll_disputes" value="rarely">
                                <label for="payroll_dispute_rarely">Rarely (1-2 times/year)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="payroll_dispute_occasionally" name="payroll_disputes" value="occasionally">
                                <label for="payroll_dispute_occasionally">Occasionally (few times/year)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="payroll_dispute_regularly" name="payroll_disputes" value="regularly">
                                <label for="payroll_dispute_regularly">Regularly (monthly)</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">25. Can you easily see each therapist's performance metrics?</label>
                        <p style="font-size: 14px; color: #666; margin-bottom: 10px;">(Sessions conducted, patient outcomes, attendance, etc.)</p>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="metrics_yes" name="therapist_metrics" value="yes">
                                <label for="metrics_yes">Yes, I have clear data</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="metrics_partial" name="therapist_metrics" value="partial">
                                <label for="metrics_partial">Partially (some metrics only)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="metrics_no" name="therapist_metrics" value="no">
                                <label for="metrics_no">No, it's mostly gut feel</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="metrics_wish" name="therapist_metrics" value="wish">
                                <label for="metrics_wish">I wish I had this visibility</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">26. What causes therapists to leave?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_workload" name="therapist_leaving" value="workload">
                                <label for="leave_workload">Workload imbalance (some overworked, others not)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_expectations" name="therapist_leaving" value="expectations">
                                <label for="leave_expectations">Unclear expectations/goals</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_payment" name="therapist_leaving" value="payment">
                                <label for="leave_payment">Payment disputes</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_growth" name="therapist_leaving" value="growth">
                                <label for="leave_growth">Lack of professional growth</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_chaos" name="therapist_leaving" value="chaos">
                                <label for="leave_chaos">Clinic operational chaos affecting their work</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_opportunities" name="therapist_leaving" value="opportunities">
                                <label for="leave_opportunities">Better opportunities elsewhere</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_personal" name="therapist_leaving" value="personal">
                                <label for="leave_personal">Personal reasons</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="leave_dont_know" name="therapist_leaving" value="dont_know">
                                <label for="leave_dont_know">Don't know</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">27. If a therapist quits with 2 weeks notice, how does it impact operations?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="quit_minimal" name="therapist_quit_impact" value="minimal">
                                <label for="quit_minimal">Minimal‚Äîwe redistribute easily</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quit_moderate" name="therapist_quit_impact" value="moderate">
                                <label for="quit_moderate">Moderate‚Äîsome schedule disruption</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quit_severe" name="therapist_quit_impact" value="severe">
                                <label for="quit_severe">Severe‚Äîscramble to cover, patients affected</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quit_crisis" name="therapist_quit_impact" value="crisis">
                                <label for="quit_crisis">Crisis‚Äîfounder has to step in personally</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 5: Parent Communication & Package Tracking -->
                <div class="section">
                    <div class="section-title">SECTION 5: Parent Communication & Package Tracking</div>

                    <div class="question">
                        <label class="question-label">28. How many WhatsApp messages do YOU personally receive from parents daily?</label>
                        <input type="number" name="personal_messages" placeholder="Messages per day (estimate)" min="0">
                    </div>

                    <div class="question">
                        <label class="question-label">29. What do parents most commonly ask about? (Check top 3)</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_appointment" name="parent_queries" value="appointment">
                                <label for="parent_ask_appointment">"When is my next appointment?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_sessions" name="parent_queries" value="sessions">
                                <label for="parent_ask_sessions">"How many sessions are left?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_reschedule" name="parent_queries" value="reschedule">
                                <label for="parent_ask_reschedule">"Can we reschedule?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_progress" name="parent_queries" value="progress">
                                <label for="parent_ask_progress">"What's my child's progress?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_payment" name="parent_queries" value="payment">
                                <label for="parent_ask_payment">"How much do I owe?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_homework" name="parent_queries" value="homework">
                                <label for="parent_ask_homework">"Can you send me homework again?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_therapist" name="parent_queries" value="therapist">
                                <label for="parent_ask_therapist">"Which therapist will we see?"</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="parent_ask_other" name="parent_queries" value="other">
                                <label for="parent_ask_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="parent_queries_other" placeholder="Please specify..." class="other-input" id="parent_ask_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">30. What percentage of parent queries could be answered by a system/portal?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="portal_less25" name="portal_potential" value="less_25">
                                <label for="portal_less25">Less than 25%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="portal_25_50" name="portal_potential" value="25_50">
                                <label for="portal_25_50">25-50%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="portal_50_75" name="portal_potential" value="50_75">
                                <label for="portal_50_75">50-75%</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="portal_more75" name="portal_potential" value="more_75">
                                <label for="portal_more75">More than 75%</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">31. How are session packages tracked currently?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="track_manual" name="package_tracking" value="manual">
                                <label for="track_manual">Manual register/Excel</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="track_software" name="package_tracking" value="software">
                                <label for="track_software">Software (but not reliably)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="track_therapists" name="package_tracking" value="therapists">
                                <label for="track_therapists">Therapists track their own</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="track_none" name="package_tracking" value="none">
                                <label for="track_none">No systematic tracking</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">32. How often do parents ask "How many sessions do I have left?"</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="sessions_left_rarely" name="sessions_left_frequency" value="rarely">
                                <label for="sessions_left_rarely">Rarely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sessions_left_weekly" name="sessions_left_frequency" value="weekly">
                                <label for="sessions_left_weekly">Weekly</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sessions_left_daily" name="sessions_left_frequency" value="daily">
                                <label for="sessions_left_daily">Daily</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sessions_left_multiple" name="sessions_left_frequency" value="multiple">
                                <label for="sessions_left_multiple">Multiple times per day</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">33. How often are there disputes about session balances?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="balance_disputes_never" name="balance_disputes" value="never">
                                <label for="balance_disputes_never">Never</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="balance_disputes_rarely" name="balance_disputes" value="rarely">
                                <label for="balance_disputes_rarely">Rarely (few times/year)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="balance_disputes_occasionally" name="balance_disputes" value="occasionally">
                                <label for="balance_disputes_occasionally">Occasionally (monthly)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="balance_disputes_regularly" name="balance_disputes" value="regularly">
                                <label for="balance_disputes_regularly">Regularly (weekly)</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">34. If a parent paid for 20 sessions, can you instantly tell me how many they've used?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="instant_30sec" name="instant_session_info" value="30sec">
                                <label for="instant_30sec">Yes, in under 30 seconds</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="instant_2_5min" name="instant_session_info" value="2_5min">
                                <label for="instant_2_5min">Yes, but takes 2-5 minutes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="instant_10min" name="instant_session_info" value="10min">
                                <label for="instant_10min">Would take 10+ minutes to figure out</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="instant_ask" name="instant_session_info" value="ask">
                                <label for="instant_ask">Would have to ask therapist/check registers</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">35. Do parents get any documentation after sessions?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="doc_yes" name="session_documentation" value="yes">
                                <label for="doc_yes">Yes, structured progress notes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="doc_sometimes" name="session_documentation" value="sometimes">
                                <label for="doc_sometimes">Sometimes, informal updates</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="doc_if_ask" name="session_documentation" value="if_ask">
                                <label for="doc_if_ask">Only if they ask</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="doc_no" name="session_documentation" value="no">
                                <label for="doc_no">No systematic documentation</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">36. Would parents value seeing their child's progress/homework/session count online?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="value_yes" name="parent_portal_value" value="yes">
                                <label for="value_yes">Yes, absolutely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="value_maybe" name="parent_portal_value" value="maybe">
                                <label for="value_maybe">Maybe, some would</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="value_not_really" name="parent_portal_value" value="not_really">
                                <label for="value_not_really">Not really, they prefer personal communication</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="value_dont_know" name="parent_portal_value" value="dont_know">
                                <label for="value_dont_know">Don't know</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6: Financial Visibility & Decision-Making -->
                <div class="section">
                    <div class="section-title">SECTION 6: Financial Visibility & Decision-Making</div>

                    <div class="question">
                        <label class="question-label">37. Can you answer these questions RIGHT NOW without looking anything up?</label>
                        <div class="table-question">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Question</th>
                                        <th style="width: 80px; text-align: center;">Yes</th>
                                        <th style="width: 80px; text-align: center;">No</th>
                                        <th style="width: 120px; text-align: center;">10+ min</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>How much money was collected yesterday?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q1" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q1" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q1" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>How much is collected this week so far?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q2" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q2" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q2" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>How many sessions were conducted yesterday?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q3" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q3" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q3" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>Which therapy type generates most revenue?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q4" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q4" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q4" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>Which therapist has done most sessions this month?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q5" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q5" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q5" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>How much money is pending collection from parents?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q6" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q6" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q6" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>What's our average revenue per patient?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q7" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q7" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q7" value="10min"></td>
                                    </tr>
                                    <tr>
                                        <td>Are we operating at full capacity or could we take more patients?</td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q8" value="yes"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q8" value="no"></td>
                                        <td style="text-align: center;"><input type="radio" name="fin_q8" value="10min"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">38. How often do you review financial performance?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="review_daily" name="financial_review" value="daily">
                                <label for="review_daily">Daily</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="review_weekly" name="financial_review" value="weekly">
                                <label for="review_weekly">Weekly</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="review_monthly" name="financial_review" value="monthly">
                                <label for="review_monthly">Monthly</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="review_annual" name="financial_review" value="annual">
                                <label for="review_annual">Only when CA gives annual report</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="review_problem" name="financial_review" value="problem">
                                <label for="review_problem">Whenever there's a problem</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">39. What financial decision would you make if you had daily visibility?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_pricing" name="daily_visibility_decisions" value="pricing">
                                <label for="decide_pricing">Adjust pricing</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_hire" name="daily_visibility_decisions" value="hire">
                                <label for="decide_hire">Hire/reassign therapists</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_therapy" name="daily_visibility_decisions" value="therapy">
                                <label for="decide_therapy">Focus on profitable therapy types</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_costs" name="daily_visibility_decisions" value="costs">
                                <label for="decide_costs">Reduce operational costs</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_expansion" name="daily_visibility_decisions" value="expansion">
                                <label for="decide_expansion">Plan expansion</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="decide_other" name="daily_visibility_decisions" value="other">
                                <label for="decide_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="daily_visibility_decisions_other" placeholder="Please specify..." class="other-input" id="decide_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">40. How do you currently make business decisions?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="decisions_data" name="decision_making" value="data">
                                <label for="decisions_data">Data-driven (based on reports)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="decisions_gut" name="decision_making" value="gut">
                                <label for="decisions_gut">Gut feel (based on experience)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="decisions_mix" name="decision_making" value="mix">
                                <label for="decisions_mix">Mix of both</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="decisions_reactive" name="decision_making" value="reactive">
                                <label for="decisions_reactive">Reactive (based on immediate problems)</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">41. If you could see ONE dashboard every morning, what would it show?</label>
                        <textarea name="ideal_dashboard" rows="4" placeholder="Describe in your own words..."></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label">42. What business question keeps you up at night?</label>
                        <textarea name="night_question" rows="4" placeholder="Describe in your own words..."></textarea>
                    </div>
                </div>

                <!-- Section 7: Therapy Quality & Progress Tracking -->
                <div class="section">
                    <div class="section-title">SECTION 7: Therapy Quality & Progress Tracking</div>

                    <div class="question">
                        <label class="question-label">43. How do you track patient progress currently?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="progress_structured" name="progress_tracking" value="structured">
                                <label for="progress_structured">Structured assessment at intervals</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="progress_notes" name="progress_tracking" value="notes">
                                <label for="progress_notes">Therapist notes in files</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="progress_videos" name="progress_tracking" value="videos">
                                <label for="progress_videos">Videos (start vs. end)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="progress_none" name="progress_tracking" value="none">
                                <label for="progress_none">No systematic tracking</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="progress_other" name="progress_tracking" value="other">
                                <label for="progress_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="progress_tracking_other" placeholder="Please specify..." class="other-input" id="progress_other_input">
                    </div>

                    <div class="question">
                        <label class="question-label">44. Where are progress videos/reports stored?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="storage_organized" name="video_storage" value="organized">
                                <label for="storage_organized">Organized folder system (cloud/drive)</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="storage_scattered" name="video_storage" value="scattered">
                                <label for="storage_scattered">Scattered across drives/phones</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="storage_personal" name="video_storage" value="personal">
                                <label for="storage_personal">Mostly on therapist's personal devices</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="storage_none" name="video_storage" value="none">
                                <label for="storage_none">No systematic storage</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">45. Can you quickly pull up a child's complete progress timeline?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="timeline_2min" name="progress_timeline" value="2min">
                                <label for="timeline_2min">Yes, in under 2 minutes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="timeline_5_10min" name="progress_timeline" value="5_10min">
                                <label for="timeline_5_10min">Takes 5-10 minutes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="timeline_20min" name="progress_timeline" value="20min">
                                <label for="timeline_20min">Takes 20+ minutes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="timeline_ask" name="progress_timeline" value="ask">
                                <label for="timeline_ask">Would have to ask therapist</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">46. How do you ensure quality when a different therapist covers a session?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="quality_notes" name="quality_assurance" value="notes">
                                <label for="quality_notes">They review previous session notes</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quality_brief" name="quality_assurance" value="brief">
                                <label for="quality_brief">I personally brief them</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quality_ask" name="quality_assurance" value="ask">
                                <label for="quality_ask">They ask the regular therapist</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quality_problem" name="quality_assurance" value="problem">
                                <label for="quality_problem">Continuity is a problem we haven't solved</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">47. Do you have therapy protocols/standards documented?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="protocols_comprehensive" name="therapy_protocols" value="comprehensive">
                                <label for="protocols_comprehensive">Yes, comprehensive documentation</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="protocols_partial" name="therapy_protocols" value="partial">
                                <label for="protocols_partial">Partial documentation</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="protocols_heads" name="therapy_protocols" value="heads">
                                <label for="protocols_heads">Mostly in therapists' heads</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="protocols_no" name="therapy_protocols" value="no">
                                <label for="protocols_no">No formal documentation</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">48. What prevents you from delegating quality control?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_qc_judgment" name="delegate_quality_control" value="judgment">
                                <label for="delegate_qc_judgment">No one else has the clinical judgment</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_qc_system" name="delegate_quality_control" value="system">
                                <label for="delegate_qc_system">No system to monitor outcomes</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_qc_trust" name="delegate_quality_control" value="trust">
                                <label for="delegate_qc_trust">Lack of trust in therapist documentation</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="delegate_qc_all" name="delegate_quality_control" value="all">
                                <label for="delegate_qc_all">All of the above</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 8: Growth & Future Vision -->
                <div class="section">
                    <div class="section-title">SECTION 8: Growth & Future Vision</div>

                    <div class="question">
                        <label class="question-label">49. Are you currently turning patients away?</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="turning_yes" name="turning_away" value="yes">
                                <label for="turning_yes">Yes, regularly</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="turning_occasionally" name="turning_away" value="occasionally">
                                <label for="turning_occasionally">Occasionally</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="turning_rarely" name="turning_away" value="rarely">
                                <label for="turning_rarely">Rarely</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="turning_no" name="turning_away" value="no">
                                <label for="turning_no">No</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">50. If yes, why?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="away_therapists" name="turning_away_reason" value="therapists">
                                <label for="away_therapists">Therapists fully booked</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="away_admin" name="turning_away_reason" value="admin">
                                <label for="away_admin">Can't manage more admin load</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="away_space" name="turning_away_reason" value="space">
                                <label for="away_space">Space constraints</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="away_dont_know" name="turning_away_reason" value="dont_know">
                                <label for="away_dont_know">Don't know actual capacity</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">51. What would enable you to handle 20-30% more patients?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_hire" name="capacity_enablers" value="hire">
                                <label for="enable_hire">Hire more therapists</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_admin" name="capacity_enablers" value="admin">
                                <label for="enable_admin">Reduce admin burden</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_scheduling" name="capacity_enablers" value="scheduling">
                                <label for="enable_scheduling">Better scheduling/capacity utilization</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_space" name="capacity_enablers" value="space">
                                <label for="enable_space">More space</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_systems" name="capacity_enablers" value="systems">
                                <label for="enable_systems">Better systems</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="enable_all" name="capacity_enablers" value="all">
                                <label for="enable_all">All of the above</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">52. What does success look like for you 12 months from now?</label>
                        <textarea name="success_12months" rows="4" placeholder="Describe in your own words..."></textarea>
                    </div>

                    <div class="question">
                        <label class="question-label">53. What's stopping you from achieving that vision?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="stop_time" name="vision_blockers" value="time">
                                <label for="stop_time">Lack of time (buried in operations)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stop_systems" name="vision_blockers" value="systems">
                                <label for="stop_systems">Lack of systems (everything is manual)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stop_visibility" name="vision_blockers" value="visibility">
                                <label for="stop_visibility">Lack of visibility (can't make data-driven decisions)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stop_capacity" name="vision_blockers" value="capacity">
                                <label for="stop_capacity">Lack of team capacity</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="stop_all" name="vision_blockers" value="all">
                                <label for="stop_all">All of the above</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <label class="question-label">54. If operations were running smoothly without your daily involvement, what would you do instead?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_patients" name="freed_time_use" value="patients">
                                <label for="freed_patients">See more patients</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_training" name="freed_time_use" value="training">
                                <label for="freed_training">Focus on therapist training/development</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_expand" name="freed_time_use" value="expand">
                                <label for="freed_expand">Expand to new services/locations</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_balance" name="freed_time_use" value="balance">
                                <label for="freed_balance">Work-life balance</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_strategic" name="freed_time_use" value="strategic">
                                <label for="freed_strategic">Strategic planning</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="freed_time_other" name="freed_time_use" value="other">
                                <label for="freed_time_other">Other (please specify)</label>
                            </div>
                        </div>
                        <input type="text" name="freed_time_use_other" placeholder="Please specify..." class="other-input" id="freed_time_other_input">
                    </div>
                </div>

                <div class="submit-section">
                    <button type="button" class="btn-generate" onclick="generatePDF()">
                        üìÑ Generate PDF
                    </button>
                    <div class="loading" id="loadingIndicator">
                        <div class="spinner"></div>
                        <p>Generating your PDF...</p>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        function generatePDF() {
            const form = document.getElementById('questionnaireForm');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // Show loading
            loadingIndicator.classList.add('active');
            
            // Use setTimeout to allow UI to update
            setTimeout(() => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    let yPos = 20;
                    const leftMargin = 20;
                    const rightMargin = 190;
                    const lineHeight = 7;
                    const pageHeight = 280;
                    
                    // Helper function to add new page if needed
                    function checkPageBreak() {
                        if (yPos > pageHeight) {
                            doc.addPage();
                            yPos = 20;
                        }
                    }
                    
                    // Helper function to wrap text
                    function wrapText(text, maxWidth) {
                        return doc.splitTextToSize(text, maxWidth);
                    }
                    
                    // Title
                    doc.setFontSize(18);
                    doc.setFont(undefined, 'bold');
                    doc.text('8 Senses Clinic', leftMargin, yPos);
                    yPos += 10;
                    doc.setFontSize(14);
                    doc.text('Operational Diagnostic Questionnaire', leftMargin, yPos);
                    yPos += 15;
                    
                    // Section titles and answers
                    const sections = [
                        {title: 'SECTION 1: Your Time & Energy', fields: [
                            {label: '1. Time spent (hours):', name: 'time_patients', prefix: 'Patients: '},
                            {label: '', name: 'time_scheduling', prefix: 'Scheduling: '},
                            {label: '', name: 'time_calls', prefix: 'Calls/WhatsApp: '},
                            {label: '', name: 'time_assignments', prefix: 'Assignments: '},
                            {label: '', name: 'time_therapy_plans', prefix: 'Therapy plans: '},
                            {label: '', name: 'time_billing', prefix: 'Billing: '},
                            {label: '', name: 'time_staff', prefix: 'Staff issues: '},
                            {label: '', name: 'time_admin', prefix: 'Admin: '},
                            {label: '2. Tasks to delegate:', name: 'delegate', type: 'checkbox'},
                            {label: '3. Finish time - Clinical:', name: 'finish_clinical'},
                            {label: '   Finish time - Admin:', name: 'finish_admin'},
                            {label: '4. Weekend work:', name: 'weekend_work', type: 'radio'},
                            {label: '5. If absent 3 days:', name: 'absent_breaks', type: 'checkbox'}
                        ]},
                        {title: 'SECTION 2: Front Desk & Receptionist Reality', fields: [
                            {label: '6. Receptionist duties:', name: 'receptionist_duties', type: 'checkbox'},
                            {label: '7. Front desk stress:', name: 'desk_stress', type: 'checkbox'},
                            {label: '8. Daily calls:', name: 'daily_calls'},
                            {label: '   Daily WhatsApp:', name: 'daily_whatsapp'},
                            {label: '9. Repetitive questions %:', name: 'repetitive_questions', type: 'radio'},
                            {label: '10. Freed capacity use:', name: 'freed_capacity', type: 'checkbox'},
                            {label: '11. Receptionist on leave:', name: 'receptionist_leave', type: 'checkbox'}
                        ]},
                        {title: 'SECTION 3: Scheduling & Session Management', fields: [
                            {label: '12. Scheduling method:', name: 'scheduling_method', type: 'radio'},
                            {label: '13. Double-bookings:', name: 'double_bookings', type: 'radio'},
                            {label: '14. Cancellations - Emergency %:', name: 'cancel_emergency'},
                            {label: '    Cancellations - Late %:', name: 'cancel_late'},
                            {label: '    No-shows %:', name: 'cancel_noshow'},
                            {label: '15. Reminder method:', name: 'reminder_method', type: 'checkbox'},
                            {label: '16. Reminder time (hours):', name: 'reminder_time'},
                            {label: '17. Reschedule process:', name: 'reschedule_process', type: 'radio'},
                            {label: '18. Real-time availability:', name: 'realtime_availability', type: 'radio'},
                            {label: '19. Therapist schedule access:', name: 'therapist_schedule_access', type: 'radio'},
                            {label: '20. Schedule stress:', name: 'schedule_stress', type: 'radio'}
                        ]},
                        {title: 'SECTION 4: Therapist Workload & Payroll', fields: [
                            {label: '21. Workload visibility:', name: 'therapist_workload_visibility', type: 'radio'},
                            {label: '22. Payroll method:', name: 'payroll_method', type: 'checkbox'},
                            {label: '23. Payroll time - Your:', name: 'payroll_your_time'},
                            {label: '    Payroll time - Admin:', name: 'payroll_admin_time'},
                            {label: '24. Payroll disputes:', name: 'payroll_disputes', type: 'radio'},
                            {label: '25. Therapist metrics:', name: 'therapist_metrics', type: 'radio'},
                            {label: '26. Therapist leaving reasons:', name: 'therapist_leaving', type: 'checkbox'},
                            {label: '27. Therapist quit impact:', name: 'therapist_quit_impact', type: 'radio'}
                        ]},
                        {title: 'SECTION 5: Parent Communication & Package Tracking', fields: [
                            {label: '28. Personal messages/day:', name: 'personal_messages'},
                            {label: '29. Parent queries:', name: 'parent_queries', type: 'checkbox'},
                            {label: '30. Portal potential %:', name: 'portal_potential', type: 'radio'},
                            {label: '31. Package tracking:', name: 'package_tracking', type: 'radio'},
                            {label: '32. Sessions left frequency:', name: 'sessions_left_frequency', type: 'radio'},
                            {label: '33. Balance disputes:', name: 'balance_disputes', type: 'radio'},
                            {label: '34. Instant session info:', name: 'instant_session_info', type: 'radio'},
                            {label: '35. Session documentation:', name: 'session_documentation', type: 'radio'},
                            {label: '36. Parent portal value:', name: 'parent_portal_value', type: 'radio'}
                        ]},
                        {title: 'SECTION 6: Financial Visibility & Decision-Making', fields: [
                            {label: '37. Financial questions:', name: 'fin_q', type: 'financial_table'},
                            {label: '38. Financial review:', name: 'financial_review', type: 'radio'},
                            {label: '39. Daily visibility decisions:', name: 'daily_visibility_decisions', type: 'checkbox'},
                            {label: '40. Decision making:', name: 'decision_making', type: 'radio'},
                            {label: '41. Ideal dashboard:', name: 'ideal_dashboard', type: 'textarea'},
                            {label: '42. Night question:', name: 'night_question', type: 'textarea'}
                        ]},
                        {title: 'SECTION 7: Therapy Quality & Progress Tracking', fields: [
                            {label: '43. Progress tracking:', name: 'progress_tracking', type: 'checkbox'},
                            {label: '44. Video storage:', name: 'video_storage', type: 'radio'},
                            {label: '45. Progress timeline:', name: 'progress_timeline', type: 'radio'},
                            {label: '46. Quality assurance:', name: 'quality_assurance', type: 'radio'},
                            {label: '47. Therapy protocols:', name: 'therapy_protocols', type: 'radio'},
                            {label: '48. Delegate quality control:', name: 'delegate_quality_control', type: 'checkbox'}
                        ]},
                        {title: 'SECTION 8: Growth & Future Vision', fields: [
                            {label: '49. Turning patients away:', name: 'turning_away', type: 'radio'},
                            {label: '50. Turning away reasons:', name: 'turning_away_reason', type: 'checkbox'},
                            {label: '51. Capacity enablers:', name: 'capacity_enablers', type: 'checkbox'},
                            {label: '52. Success 12 months:', name: 'success_12months', type: 'textarea'},
                            {label: '53. Vision blockers:', name: 'vision_blockers', type: 'checkbox'},
                            {label: '54. Freed time use:', name: 'freed_time_use', type: 'checkbox'}
                        ]}
                    ];
                    
                    sections.forEach(section => {
                        checkPageBreak();
                        doc.setFontSize(12);
                        doc.setFont(undefined, 'bold');
                        doc.text(section.title, leftMargin, yPos);
                        yPos += lineHeight + 2;
                        
                        doc.setFontSize(10);
                        doc.setFont(undefined, 'normal');
                        
                        section.fields.forEach(field => {
                            checkPageBreak();
                            
                            if (field.label) {
                                const labelLines = wrapText(field.label, rightMargin - leftMargin);
                                labelLines.forEach(line => {
                                    doc.text(line, leftMargin, yPos);
                                    yPos += lineHeight;
                                    checkPageBreak();
                                });
                            }
                            
                            let value = '';
                            
                            if (field.type === 'checkbox') {
                                const elements = form.querySelectorAll(`[name="${field.name}"]:checked`);
                                const values = Array.from(elements).map(el => {
                                    const label = el.parentElement.querySelector('label');
                                    return label ? label.textContent.trim() : el.value;
                                });
                                value = values.length > 0 ? values.join(', ') : 'None selected';
                                
                                // Check if there's an "Other" text field with a value
                                const otherFieldName = field.name + '_other';
                                const otherField = form.querySelector(`[name="${otherFieldName}"]`);
                                if (otherField && otherField.value.trim()) {
                                    // Check if "other" was selected in the checkboxes
                                    const hasOther = Array.from(elements).some(el => el.value === 'other');
                                    if (hasOther) {
                                        value += ' (' + otherField.value.trim() + ')';
                                    }
                                }
                            } else if (field.type === 'radio') {
                                const element = form.querySelector(`[name="${field.name}"]:checked`);
                                if (element) {
                                    const label = element.parentElement.querySelector('label');
                                    value = label ? label.textContent.trim() : element.value;
                                    
                                    // Check if there's an "Other" text field with a value
                                    const otherFieldName = field.name + '_other';
                                    const otherField = form.querySelector(`[name="${otherFieldName}"]`);
                                    if (otherField && otherField.value.trim() && element.value === 'other') {
                                        value += ' (' + otherField.value.trim() + ')';
                                    }
                                } else {
                                    value = 'Not answered';
                                }
                            } else if (field.type === 'textarea') {
                                const element = form.querySelector(`[name="${field.name}"]`);
                                value = element ? element.value : '';
                            } else if (field.type === 'financial_table') {
                                // Handle financial questions table
                                for (let i = 1; i <= 8; i++) {
                                    const element = form.querySelector(`[name="fin_q${i}"]:checked`);
                                    const answer = element ? element.value : 'Not answered';
                                    const questions = [
                                        'Money collected yesterday',
                                        'Money collected this week',
                                        'Sessions yesterday',
                                        'Most revenue therapy type',
                                        'Most sessions therapist',
                                        'Pending collection',
                                        'Avg revenue per patient',
                                        'Capacity status'
                                    ];
                                    doc.text(`   ${questions[i-1]}: ${answer}`, leftMargin + 5, yPos);
                                    yPos += lineHeight;
                                    checkPageBreak();
                                }
                                return;
                            } else {
                                const element = form.querySelector(`[name="${field.name}"]`);
                                value = element ? element.value : '';
                                if (field.prefix) {
                                    value = field.prefix + value;
                                }
                            }
                            
                            if (value && value !== 'Not answered' && value !== 'None selected') {
                                const valueLines = wrapText(value, rightMargin - leftMargin - 10);
                                valueLines.forEach(line => {
                                    doc.text(line, leftMargin + 5, yPos);
                                    yPos += lineHeight;
                                    checkPageBreak();
                                });
                            }
                            
                            yPos += 2;
                        });
                        
                        yPos += 5;
                    });
                    
                    // Add footer
                    const pageCount = doc.internal.getNumberOfPages();
                    for (let i = 1; i <= pageCount; i++) {
                        doc.setPage(i);
                        doc.setFontSize(8);
                        doc.setTextColor(128);
                        doc.text(`Page ${i} of ${pageCount}`, rightMargin, 290, { align: 'right' });
                        doc.text('8 Senses Clinic - Operational Diagnostic Questionnaire', leftMargin, 290);
                    }
                    
                    // Save the PDF
                    doc.save('8_Senses_Clinic_Questionnaire.pdf');
                    
                } catch (error) {
                    alert('Error generating PDF: ' + error.message);
                    console.error(error);
                } finally {
                    loadingIndicator.classList.remove('active');
                }
            }, 100);
        }
    </script>
</body>
</html>
